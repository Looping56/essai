<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <title>Administration - Lego</title>
</head>
<body>
    <header>ADMINISTRATION LEGO</header>
    <div class="container">
        
        <div class="card">
            <h3>Acc√®s des Membres</h3>
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                <span>1. Choix des pi√®ces</span>
                <button id="btn-choix" onclick="toggle('etat_choix')">---</button>
            </div>
            <div style="display: flex; justify-content: space-between;">
                <span>2. Validation finale</span>
                <button id="btn-final" onclick="toggle('etat_final')">---</button>
            </div>
        </div>

        <div class="card">
            <h3>Importation des donn√©es</h3>
            <label>üìÅ Fichier Membres (CSV)</label>
            <input type="file" accept=".csv" onchange="simulerImport('Membres')">
            
            <label>üìÅ Fichier Catalogue (CSV)</label>
            <input type="file" accept=".csv" onchange="simulerImport('Catalogue')">
            <div id="msg-import" style="color: green; font-size: 0.9em; margin-top: 10px;"></div>
        </div>

        <button class="btn-blue" onclick="window.location.href='dashboard.html'">Voir le site comme un membre</button>
        <a href="index.html" class="logout-link">Quitter l'administration</a>
    </div>

    <script>
        function toggle(key) {
            let etat = localStorage.getItem(key) === '1' ? '0' : '1';
            localStorage.setItem(key, etat);
            chargerEtats();
        }

        function chargerEtats() {
            const c = localStorage.getItem('etat_choix') || '0';
            const f = localStorage.getItem('etat_final') || '0';
            
            document.getElementById('btn-choix').innerText = (c === '1' ? 'OUVERT' : 'FERM√â');
            document.getElementById('btn-choix').style.background = (c === '1' ? '#27ae60' : '#d0011b');
            document.getElementById('btn-choix').style.color = "white";

            document.getElementById('btn-final').innerText = (f === '1' ? 'OUVERT' : 'FERM√â');
            document.getElementById('btn-final').style.background = (f === '1' ? '#27ae60' : '#d0011b');
            document.getElementById('btn-final').style.color = "white";
        }

        function simulerImport(type) {
            document.getElementById('msg-import').innerText = "‚úÖ Fichier " + type + " analys√© avec succ√®s !";
        }

        chargerEtats();
    </script>
</body>
</html>
