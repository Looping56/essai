<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <title>Mon Espace Lego</title>
</head>
<body>
    <header>LEGO MANAGER</header>
    <div class="container">
        <div class="card">
            <h2 id="nom-membre">Bonjour !</h2>
            <p>Statut actuel des sessions :</p>
            
            <div id="box-choix" class="card" style="cursor: pointer; border: 2px solid transparent;">
                <b>üõí S√©lection des pi√®ces</b><br>
                <small id="statut-choix"></small>
            </div>

            <div id="box-final" class="card" style="cursor: pointer; border: 2px solid transparent;">
                <b>üìù Validation finale</b><br>
                <small id="statut-final"></small>
            </div>

            <a href="index.html" onclick="localStorage.removeItem('user_lego')" class="logout-link">Se d√©connecter</a>
        </div>
    </div>

    <script>
        const user = localStorage.getItem('user_lego');
        if(!user) window.location.href = 'index.html';
        document.getElementById('nom-membre').innerText = "Bonjour " + user;

        const c = localStorage.getItem('etat_choix');
        const f = localStorage.getItem('etat_final');

        // Config bouton Choix
        const boxC = document.getElementById('box-choix');
        if(c === '1') {
            boxC.onclick = () => window.location.href='choix.html';
            document.getElementById('statut-choix').innerText = "Cliquez pour entrer";
            boxC.style.borderColor = "#27ae60";
        } else {
            document.getElementById('statut-choix').innerText = "Session ferm√©e";
            boxC.style.opacity = "0.5";
        }

        // Config bouton Final
        const boxF = document.getElementById('box-final');
        if(f === '1') {
            boxF.onclick = () => window.location.href='final.html';
            document.getElementById('statut-final').innerText = "Cliquez pour valider";
            boxF.style.borderColor = "#0055ad";
        } else {
            document.getElementById('statut-final').innerText = "Bient√¥t disponible";
            boxF.style.opacity = "0.5";
        }
    </script>
</body>
</html>
