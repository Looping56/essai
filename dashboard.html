<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <title>Dashboard</title>
</head>
<body>
    <header><h1>Dashboard</h1></header>
    <div class="container">
        <h3 id="welcome"></h3>
        <div class="card" style="margin-bottom: 20px; border-left: 5px solid green;">
            <h4>Session de commande</h4>
            <p>Statut : ðŸŸ¢ OUVERT</p>
            <button onclick="window.location.href='choix.html'">AccÃ©der au catalogue</button>
        </div>
        <div class="card" style="opacity: 0.6; border-left: 5px solid gray;">
            <h4>Validation Finale</h4>
            <p>Statut : ðŸ”’ FERMÃ‰</p>
            <button disabled>Indisponible</button>
        </div>
    </div>
    <script>
       <div class="container">
    <h3>Bonjour, <span id="userNameDisplay"></span> !</h3>
    <a href="logout.html" style="color: #d0011b; text-decoration: none; font-weight: bold; display: block; margin-top: 30px; text-align: center;">
        âœ– Se dÃ©connecter
    </a>
</div>

    // RÃ©cupÃ©rer le nom pour l'affichage
    const user = localStorage.getItem('user_lego');
    if (!user) {
        // SÃ©curitÃ© : si pas de nom, on renvoie au login
        window.location.href = 'index.html';
    } else {
        document.getElementById('userNameDisplay').innerText = user;
    }
 document.getElementById('welcome').innerText = "Bonjour, " + localStorage.getItem('user');
   <script>
    const user = localStorage.getItem('user_lego');
    if (!user) window.location.href = 'index.html';
    document.getElementById('userNameDisplay').innerText = user;

    // --- LOGIQUE DYNAMIQUE DES BOUTONS ---
    const etatChoix = localStorage.getItem('etat_choix');
    const etatFinal = localStorage.getItem('etat_final');

    // Gestion du bouton 1 (Choix des piÃ¨ces)
    const cardChoix = document.getElementById('card-choix'); // Ajoute cet ID Ã  ta div/bouton
    if (etatChoix === '1') {
        cardChoix.innerHTML = "<h4>SÃ©lection</h4><p>ðŸŸ¢ OUVERT</p><button onclick='location.href=\"choix.html\"'>Entrer</button>";
    } else {
        cardChoix.innerHTML = "<h4>SÃ©lection</h4><p>ðŸ”’ FERMÃ‰</p><button disabled>Indisponible</button>";
        cardChoix.style.opacity = "0.6";
    }

    // Gestion du bouton 2 (Final)
    const cardFinal = document.getElementById('card-final'); // Ajoute cet ID Ã  ta div/bouton
    if (etatFinal === '1') {
        cardFinal.innerHTML = "<h4>Validation Final</h4><p>ðŸ”µ PRÃŠT</p><button onclick='location.href=\"final.html\"'>Valider</button>";
    } else {
        cardFinal.innerHTML = "<h4>Validation Final</h4><p>ðŸ”’ FERMÃ‰</p><button disabled>Attente Admin</button>";
        cardFinal.style.opacity = "0.6";
    }

  </script>
</body>
</html>
